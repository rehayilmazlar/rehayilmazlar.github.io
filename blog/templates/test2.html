{% extends "layout.html" %}
{% block body %}

<!--Custom add menu-->
<script>$(document).ready(function() {
  
  
    $("#hiddenRow").hide();
    $("#toggleCheck").click(function() {
        
        $("#hiddenRow").toggle();
      
    })
    
  });</script>

<!--Show/hide editor-->
<script>$(document).ready(function() {
  $("#editor").hide();
  $("#showEditor").click(function() {
    
      $("#editor").toggle();
    
  })
  
});</script>

<form method="POST">
{% if name %}
<h2 style="float:left;">{{name}}</h2><a href="edit_food.html" class="btn btn-dark" role="button" style="float:right;padding:2px 4px 2px 4px;margin-top:1%;;">Edit</a><br>
{% include "add_food_layout.html" %}
{% else %}
<h2>Food name</h2>

    <input name="food_name" type="text" method="post" placeholder="Enter food name..." style="float:left;padding-left:5px" required>
    <button action="" class="btn btn-success" value = "submit"  method="post" style="float:inline-start;padding:2px 4px 2px 4px;margin-left:2%">Add</button>

{% endif %}




<!-- tablo ekleme javascript benim düzelttiğim-->
<script>
  var id=1;
  function addRow() {
    var table = document.getElementById("myTable");
    var row = table.getElementsByTagName('tr');
    var row = table.insertRow(row.length);
    var ing = document.getElementById('ing');
    var msr = document.getElementById('msr');
    var qty = document.getElementById('qty');
    var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1);
    var cell3 = row.insertCell(2);
    var cell4 = row.insertCell(3);
    var cell5 = row.insertCell(4);
    var cell6 = row.insertCell(5);
    var cell7 = row.insertCell(6);
    cell1.innerHTML = '';
    cell2.innerHTML = qty.value;
    cell3.innerHTML = msr.value;
    cell4.innerHTML = ing.value;
    cell5.innerHTML = '';
    cell6.innerHTML = '';
    cell7.innerHTML = "<a href='#' onclick='deleteRow(this)' id='delete' class='btn btn-danger' style='float:right;padding:2px 7px 2px 7px'>Delete</a><input type='hidden' name="+"'"+ id+"'" + "value= '" +qty.value +"'" +"/>"+"<input type='hidden' name="+"'"+ (id+1)+ "'" + "value='" + msr.value + "'"+"/>"+"<input type='hidden' name="+"'"+ (id+2)+"'" + "value='" + ing.value + "'"+"/>"
    id +=3;
  }
  
  function deleteRow(toBeDeletedRow)
  {
    id -=3;
    var p=toBeDeletedRow.parentNode.parentNode;
    p.parentNode.removeChild(p);
  }

  </script>
{% endblock body %}